"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{1466:function(e,s,n){n.r(s);var a=n(5893),l=n(7294),t=n(1163),c=n(7484),i=n.n(c),r=n(586),o=n(720),d=n(972),u=n(2147),m=n(1667),h=n(7612),p=n(7919);n(7162);var x=n(166);s.default=e=>{let{reset:s,title:n,airlineDetail:c,backGroundImage:j,onlyForm:f}=e,v=(0,t.useRouter)(),{updateFormData:N,formValues:b,updateSearchResult:g,setLoading:y,resetFormData:C}=(0,h.e)(),[k,w]=(0,l.useState)(b),[D,T]=(0,l.useState)(!0),E=e=>{T(!0);let{name:s,value:n}=e.target;w(e=>({...e,[s]:n}))},S=(e,s)=>{if(T(!0),i().isDayjs(e)){let n=e.format("YYYY-MM-DD");w(e=>({...e,[s]:n}))}else w(n=>({...n,[s]:e}))},F=async()=>{N(k);try{var e,s,n,a;let{origin:l,destination:t,departDate:i,returnDate:r,adults:o,children:d,infants:u,tripType:m}=k;if(!l||!t||!i||"roundTrip"===m&&(!r||r<i)){T(!1);return}y(!0);let h={origin:(null==l?void 0:null===(s=l.split("~"))||void 0===s?void 0:null===(e=s[0])||void 0===e?void 0:e.trim())||null,destination:(null==t?void 0:null===(a=t.split("~"))||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:n.trim())||null,departDate:i?encodeURIComponent(i):null,adults:o,children:d,infants:u,returnDate:r&&"roundTrip"===m?encodeURIComponent(r):null},x=await (0,p.v3)(h,c);g(x)}catch(e){g([])}v.push("/search-result"),y(!1)};return(0,l.useEffect)(()=>{s&&C()},[s]),(0,l.useEffect)(()=>{b&&w(b)},[b]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"container-fluid banner-bg p-0",style:{backgroundImage:"url(".concat(j,")")},children:(0,a.jsx)("div",{className:"container searh-engain",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-12 col-sm-12 col-lg-12 col-xl-12",children:!f&&(0,a.jsxs)("div",{className:"marg-top",children:[(0,a.jsx)("h1",{children:n||"Book now, go wow!"}),(0,a.jsx)("h5",{children:"From quaint villages to vibrant cities, explore the way you want.  "})]})}),(0,a.jsx)("div",{className:"col-12 col-sm-12 col-lg-12 col-xl-12 p-0",children:(0,a.jsx)("div",{className:"tab-content",style:{display:"block"},children:(0,a.jsxs)("div",{className:"tab-pane fade show active",role:"tabpanel","aria-labelledby":"home-tab",children:[(0,a.jsxs)("div",{className:"form-check form-check-inline mb-0",children:[(0,a.jsx)("input",{className:"form-check-input",type:"radio",name:"tripType",value:"roundTrip",checked:"roundTrip"===k.tripType,onChange:E}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"roundTrip",children:"Round Trip"})]}),(0,a.jsxs)("div",{className:"form-check form-check-inline",children:[(0,a.jsx)("input",{className:"form-check-input",type:"radio",name:"tripType",value:"oneWay",checked:"oneWay"===k.tripType,onChange:E}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"oneWay",children:"One Way"})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-12 col-sm-6 col-lg-2 col-xl-2 p-1",children:[(0,a.jsx)("label",{children:"From Airport"}),(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"icon3",children:(0,a.jsx)("i",{class:"fa-solid fa-plane-departure"})}),(0,a.jsx)(u.default,{name:"origin",placeholder:"Flying From",value:b.origin,onSelect:e=>S(e,"origin")})]})]}),(0,a.jsxs)("div",{className:"col-12 col-sm-6 col-lg-2 col-xl-2 p-1",children:[(0,a.jsx)("label",{children:"To Airport"}),(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"icon3",children:(0,a.jsx)("i",{class:"fa-solid fa-plane-arrival"})}),(0,a.jsx)(u.default,{name:"destination",value:b.destination,placeholder:"Flying To",onSelect:e=>S(e,"destination")})]})]}),(0,a.jsxs)("div",{className:"col-6 col-sm-6 col-lg-2 col-xl-2 p-1",children:[(0,a.jsx)("label",{children:"Departure Date"}),(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"icon3",children:(0,a.jsx)("i",{class:"fa-solid fa-calendar-check"})}),(0,a.jsx)(o._,{dateAdapter:r.y,children:(0,a.jsx)(d.M,{defaultValue:i()(k.departDate?k.departDate:null),minDate:i()(new Date),onChange:e=>S(e,"departDate"),renderInput:e=>(0,a.jsx)(x.Z,{...e,fullWidth:!0})})})]})]}),"roundTrip"===k.tripType&&(0,a.jsxs)("div",{className:"col-6 col-sm-6 col-lg-2 col-xl-2 p-1",children:[(0,a.jsx)("label",{children:"Return Date"}),(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"icon3",children:(0,a.jsx)("i",{class:"fa-solid fa-calendar-check"})}),(0,a.jsx)(o._,{dateAdapter:r.y,children:(0,a.jsx)(d.M,{value:i()(k.returnDate),minDate:i()(k.departDate),onChange:e=>S(e,"returnDate"),renderInput:e=>(0,a.jsx)(x.Z,{...e,fullWidth:!0})})})]})]}),(0,a.jsxs)("div",{className:"col-12 col-sm-6 col-lg-2 col-xl-2 p-1",children:[(0,a.jsx)("label",{children:"Add Travelers"}),(0,a.jsxs)("div",{className:"dropdown",children:[(0,a.jsx)("div",{className:"icon3",children:(0,a.jsx)("i",{class:"fa-solid fa-users"})}),(0,a.jsx)(m.default,{onSelectClass:(e,s)=>S(s,e),onChangePassengers:(e,s)=>S(s,e)})]})]}),(0,a.jsx)("div",{className:"col-12 col-sm-6 col-lg-2 col-xl-2 d-grid gap-2 p-1",children:(0,a.jsx)("button",{className:"btn btn-primary",type:"button",onClick:F,children:"Search Flights"})})]}),!D&&(0,a.jsx)("div",{className:"text-danger",children:"Kindly complete all the required fields."})]})})})]})})})})}},1667:function(e,s,n){n.r(s);var a=n(5893),l=n(7294);s.default=e=>{let{onSelectClass:s={},onChangePassengers:n={}}=e,[t,c]=(0,l.useState)("Economy"),[i,r]=(0,l.useState)(1),[o,d]=(0,l.useState)(0),[u,m]=(0,l.useState)(0),[h,p]=(0,l.useState)(!1),x=(0,l.useRef)(null),j=e=>{c(e),s("cabinClass",e),p(!1)},f=(e,s)=>{if(!(s>10)){switch(e){case"adults":r(s);break;case"children":d(s);break;case"infants":m(s)}n(e,s)}},v=e=>{x.current&&!x.current.contains(e.target)&&p(!1)};return(0,l.useEffect)(()=>(document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}),[]),(0,a.jsx)("div",{className:"class-selection-container",children:(0,a.jsxs)("div",{className:"input-group",ref:x,children:[(0,a.jsx)("input",{type:"text",value:"".concat(t," - Adults: ").concat(i," - Children: ").concat(o),onClick:()=>p(!h),readOnly:!0,className:"form-control",style:{borderRadius:5}}),h&&(0,a.jsxs)("div",{className:"autocomplete-list",children:[(0,a.jsxs)("div",{className:"dropdown",children:[(0,a.jsx)("button",{className:"btn dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t}),(0,a.jsxs)("div",{className:"dropdown-menu",children:[(0,a.jsx)("button",{className:"dropdown-item",onClick:()=>j("Economy"),children:"Economy"}),(0,a.jsx)("button",{className:"dropdown-item",onClick:()=>j("Premium Economy "),children:"Premium Economy"}),(0,a.jsx)("button",{className:"dropdown-item",onClick:()=>j(" Business Class "),children:"Business Class"}),(0,a.jsx)("button",{className:"dropdown-item",onClick:()=>j(" First class "),children:"First class"})]})]}),(0,a.jsxs)("ul",{className:"passenger-list p-2",children:[(0,a.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsx)("span",{className:"passenger-label",children:"Adults"}),(0,a.jsxs)("div",{className:"passenger-controls",children:[(0,a.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>f("adults",i+1),children:"+"}),(0,a.jsx)("span",{className:"count",children:i}),(0,a.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>f("adults",Math.max(i-1,1)),children:"-"})]})]}),(0,a.jsxs)("li",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,a.jsx)("span",{className:"passenger-label",children:"Children"}),(0,a.jsxs)("div",{className:"passenger-controls",children:[(0,a.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>f("children",o+1),children:"+"}),(0,a.jsx)("span",{className:"count",children:o}),(0,a.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>f("children",Math.max(o-1,0)),children:"-"})]})]}),(0,a.jsxs)("li",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,a.jsx)("span",{className:"passenger-label",children:"Infants"}),(0,a.jsxs)("div",{className:"passenger-controls",children:[(0,a.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>f("infants",u+1),children:"+"}),(0,a.jsx)("span",{className:"count",children:u}),(0,a.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>f("infants",Math.max(u-1,0)),children:"-"})]})]})]})]})]})})}},7919:function(e,s,n){n.d(s,{Yb:function(){return c},v3:function(){return t}});var a=n(6089);let l={headers:{"Content-Type":"application/json"}},t=async(e,s)=>{try{let n="?originLocationCode=".concat(e.origin,"&destinationLocationCode=").concat(e.destination,"&departureDate=").concat(encodeURIComponent(e.departDate),"&adults=").concat(e.adults,"&children=").concat(e.children,"&infants=").concat(e.infants);e.returnDate&&(n+="&returnDate=".concat(encodeURIComponent(e.returnDate))),s&&s.iataCode&&(n+="&includedAirlineCodes=".concat(s.iataCode));let t="".concat(a.JW,"/flight-offers").concat(n),c=await fetch(t,l);if(!c.ok)throw Error("HTTP error! Status: ".concat(c.status));return await c.json()}catch(e){throw e}},c=async e=>{try{let s="".concat(a.JW,"/send-mail");return await fetch(s,{method:"POST",headers:l.headers,body:JSON.stringify(e)})}catch(e){throw console.error("Error in sendMail:",e),e}}}}]);